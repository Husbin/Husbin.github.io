<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Angular2-仿照微信UI实现9张图片上传和预览 | 
        
        Husbin
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.jpg">
    <link rel="icon" href="/img/favicon.jpg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="I can not repair the compoter.">
    <meta name="keywords" content=",Angular2">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.jpg);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?ezyEvm8ST5CGfpA+kFFi1g==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Husbin">
    <meta name="msapplication-starturl" content="http://yoursite.com/2017/10/18/ng2-1/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Husbin">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.jpg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2017/10/18/ng2-1/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Angular2-仿照微信UI实现9张图片上传和预览 | Husbin">
    <meta property="og:image" content="/img/favicon.jpg">
    <meta property="og:description" content="I can not repair the compoter.">
    <meta property="og:article:tag" content="Angular2"> 

    
        <meta property="article:published_time" content="Wed Oct 18 2017 20:14:22 GMT+0800">
        <meta property="article:modified_time" content="Sat Feb 03 2018 21:21:59 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2017/10/18/ng2-1/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2017/10/18/ng2-1/index.html",
    "headline": "Angular2-仿照微信UI实现9张图片上传和预览",
    "datePublished": "Wed Oct 18 2017 20:14:22 GMT+0800",
    "dateModified": "Sat Feb 03 2018 21:21:59 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Husbin",
        "image": {
            "@type": "ImageObject",
            "url": "/img/touxiang.png"
        },
        "description": "I can not repair the compoter."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Husbin",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.jpg"
        }
    },
    "keywords": ",Angular2",
    "description": "I can not repair the compoter.",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#样式–weui-css"><span class="post-toc-number">1.</span> <span class="post-toc-text">样式–weui.css</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#样例–weui-io"><span class="post-toc-number">2.</span> <span class="post-toc-text">样例–weui.io</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#主要步骤"><span class="post-toc-number">3.</span> <span class="post-toc-text">主要步骤</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#官方ui显示如下，图片上传的ui在Uploader中。"><span class="post-toc-number">3.0.1.</span> <span class="post-toc-text">官方ui显示如下，图片上传的ui在Uploader中。</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#图片上传的源码从审查元素中可获取，如下所示："><span class="post-toc-number">3.0.2.</span> <span class="post-toc-text">图片上传的源码从审查元素中可获取，如下所示：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-图片缩略图显示"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">1. 图片缩略图显示</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-图片预览显示与消失"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">2. 图片预览显示与消失</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-图片删除"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">3. 图片删除</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#效果如下："><span class="post-toc-number">3.4.</span> <span class="post-toc-text">效果如下：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#显示缩略图："><span class="post-toc-number">3.4.1.</span> <span class="post-toc-text">显示缩略图：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#显示预览："><span class="post-toc-number">3.4.2.</span> <span class="post-toc-text">显示预览：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#点击下面的删除栏："><span class="post-toc-number">3.5.</span> <span class="post-toc-text">点击下面的删除栏：</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2017-12-02-更正"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">2017-12-02 更正</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Angular2-仿照微信UI实现9张图片上传和预览
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/touxiang.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Husbin</strong>
        <span>10月 18, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Angular2/">Angular2</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <ul>
<li>本来在看vue.js没多久，最近在赶一个项目用回了angular2，还是先把ng2搞定吧，毕竟还不怎么懂。这两天我做的是用户表单数据的提交，大部分很简单，双向绑定就完事了，主要还是沟通的问题哈哈哈哈，虽然沟通的时候有点暴躁想甩锅，不过出了门还是高高兴兴吃饭高高兴兴回去。</li>
<li>好了切入问题。这几天做得最久的是仿照微信UI做的图片上传/显示缩略图/预览/删除功能，要求图片1–9张。下面来记录下如何实现微信的图片预览/删除功能。</li>
</ul>
<h2 id="样式–weui-css"><a href="#样式–weui-css" class="headerlink" title="样式–weui.css"></a>样式–weui.css</h2><ul>
<li>样式用的是微信官方ui，weui.min.css（生产环境下建议使用此压缩版）。</li>
<li>下载地址<a href="https://github.com/Tencent/weui/releases" target="_blank" rel="noopener">weui.css/weui.min.css</a>。</li>
</ul>
<h2 id="样例–weui-io"><a href="#样例–weui-io" class="headerlink" title="样例–weui.io"></a>样例–weui.io</h2><ul>
<li>微信官方自带了demo: <a href="https://weui.io/" target="_blank" rel="noopener">weui.io</a>。</li>
</ul>
<h2 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h2><ul>
<li>在正式进入各个小功能的解说前，先上官方demo-&gt;<a href="https://weui.io/" target="_blank" rel="noopener">weui.io</a>查看图片上传组件的样式以及源代码。</li>
</ul>
<h4 id="官方ui显示如下，图片上传的ui在Uploader中。"><a href="#官方ui显示如下，图片上传的ui在Uploader中。" class="headerlink" title="官方ui显示如下，图片上传的ui在Uploader中。"></a>官方ui显示如下，图片上传的ui在Uploader中。</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-1f0bd973c370959a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="图片上传的源码从审查元素中可获取，如下所示："><a href="#图片上传的源码从审查元素中可获取，如下所示：" class="headerlink" title="图片上传的源码从审查元素中可获取，如下所示："></a>图片上传的源码从审查元素中可获取，如下所示：</h4><pre><code class="html">&lt;div class=&quot;page uploader js_show&quot;&gt;
    &lt;div class=&quot;page__hd&quot;&gt;
        &lt;h1 class=&quot;page__title&quot;&gt;Uploader&lt;/h1&gt;
        &lt;p class=&quot;page__desc&quot;&gt;上传组件，一般配合&lt;a class=&quot;link&quot; href=&quot; &quot;&gt;组件Gallery&lt;/a &gt;来使用。&lt;/p &gt;
    &lt;/div&gt;
    &lt;div class=&quot;page__bd&quot;&gt;
        &lt;div class=&quot;weui-gallery&quot; id=&quot;gallery&quot; style=&quot;opacity: 0; display: none;&quot;&gt;
            &lt;span class=&quot;weui-gallery__img&quot; id=&quot;galleryImg&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;&lt;/span&gt;
            &lt;div class=&quot;weui-gallery__opr&quot;&gt;
                &lt;a href=&quot;javascript:&quot; class=&quot;weui-gallery__del&quot;&gt;
                    &lt;i class=&quot;weui-icon-delete weui-icon_gallery-delete&quot;&gt;&lt;/i&gt;
                &lt;/a &gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;weui-cells weui-cells_form&quot;&gt;
            &lt;div class=&quot;weui-cell&quot;&gt;
                &lt;div class=&quot;weui-cell__bd&quot;&gt;
                    &lt;div class=&quot;weui-uploader&quot;&gt;
                        &lt;div class=&quot;weui-uploader__hd&quot;&gt;
                            &lt;p class=&quot;weui-uploader__title&quot;&gt;图片上传&lt;/p &gt;
                            &lt;div class=&quot;weui-uploader__info&quot;&gt;0/2&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;weui-uploader__bd&quot;&gt;
                            &lt;ul class=&quot;weui-uploader__files&quot; id=&quot;uploaderFiles&quot;&gt;
                                &lt;li class=&quot;weui-uploader__file&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;&lt;/li&gt;
                                &lt;li class=&quot;weui-uploader__file&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;&lt;/li&gt;
                                &lt;li class=&quot;weui-uploader__file&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;&lt;/li&gt;
                                &lt;li class=&quot;weui-uploader__file weui-uploader__file_status&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;
                                    &lt;div class=&quot;weui-uploader__file-content&quot;&gt;
                                        &lt;i class=&quot;weui-icon-warn&quot;&gt;&lt;/i&gt;
                                    &lt;/div&gt;
                                &lt;/li&gt;
                                &lt;li class=&quot;weui-uploader__file weui-uploader__file_status&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;
                                    &lt;div class=&quot;weui-uploader__file-content&quot;&gt;50%&lt;/div&gt;
                                &lt;/li&gt;
                            &lt;/ul&gt;
                            &lt;div class=&quot;weui-uploader__input-box&quot;&gt;
                                &lt;input id=&quot;uploaderInput&quot; class=&quot;weui-uploader__input&quot; type=&quot;file&quot; accept=&quot;image/*&quot; multiple=&quot;&quot;&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;page__ft j_bottom&quot;&gt;
        &lt;a href=&quot;javascript:home()&quot;&gt;&lt; img src=&quot;./images/icon_footer_link.png&quot;&gt;&lt;/a &gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li>观察上面的代码，外层样式直接套用，核心功能块如下：</li>
</ul>
<ol>
<li><strong>图片预览/删除部分：</strong></li>
</ol>
<pre><code class="html">&lt;div class=&quot;weui-gallery&quot; id=&quot;gallery&quot;&gt;
  &lt;!--显示预览--&gt;
  &lt;span class=&quot;weui-gallery__img&quot; id=&quot;galleryImg&quot;&gt;&lt;/span&gt;
  &lt;!--删除按钮--&gt;
  &lt;div class=&quot;weui-gallery__opr&quot;&gt;
    &lt;a href=&quot;javascript:&quot; class=&quot;weui-gallery__del&quot;&gt;
      &lt;i class=&quot;weui-icon-delete weui-icon_gallery-delete&quot;&gt;&lt;/i&gt;&lt;/a &gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<ol>
<li><strong>图片缩略图列表部分：</strong></li>
</ol>
<pre><code class="html"> &lt;ul class=&quot;weui-uploader__files&quot; id=&quot;uploaderFiles&quot;&gt;
   &lt;!--每张图片是一个&lt;li&gt;标签--&gt;
   &lt;li class=&quot;weui-uploader__file&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<ul>
<li>有了上面的准备，下载就可以对功能进行实现了:</li>
</ul>
<h3 id="1-图片缩略图显示"><a href="#1-图片缩略图显示" class="headerlink" title="1. 图片缩略图显示"></a>1. 图片缩略图显示</h3><ul>
<li>观察源码可知，每张图片的缩略图的代码结构如下：</li>
</ul>
<p><code>&lt;li class=&quot;weui-uploader__file&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;&lt;/li&gt;</code></p>
<ul>
<li>他将图片的url直接放到了<code>background-img:url()</code>属性中，样式直接使用微信的官方ui的class。因此，我们可以做这样操作：<strong>创建一个数组存<code>picturesUrl</code>放图片的url，用angular2的指令<code>*ngFor</code>根据数组中的内容动态生成缩略图列表（注意picturesUrl中元素的格式为：<code>url(图片的url)）</code>：</strong>，图片url数组中的每个元素依次存进中间变量<code>img</code>中，<strong>然后使用angular2指令<code>[ngStyle]</code>根据img的值生成预览图</strong>，主要代码如下：</li>
</ul>
<pre><code class="html">&lt;ul class=&quot;weui-uploader__files picture-preview&quot; id=&quot;uploaderFiles&quot; &gt;
                                &lt;li *ngFor=&quot;let img of picturesUrl&quot;
                                    class=&quot;weui-uploader__file&quot;
                                    [ngStyle]=&quot;{&#39;background-image&#39;:img}&quot;&gt;
                                &lt;/li&gt;
&lt;/ul&gt;

&lt;!--img实例--&gt;
&lt;!--&#39;url(http://upload-images.jianshu.io/upload_images/7166236-ed8a621900728c39.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&#39;--&gt;
</code></pre>
<ul>
<li>在ts文件中定义图片数组并且给一定的模拟数据：</li>
</ul>
<pre><code class="typescript">picturesUrl = [
    &#39;url(http://upload-images.jianshu.io/upload_images/7166236-40ed406c30ef20a0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&#39;,
    &#39;url(http://upload-images.jianshu.io/upload_images/7166236-d79762ed654342bf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&#39;,
    &#39;url(http://upload-images.jianshu.io/upload_images/7166236-64e1a458e5e29d59.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&#39;,
    &#39;url(http://upload-images.jianshu.io/upload_images/7166236-9a267a540acb8688.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&#39;,
    &#39;url(http://upload-images.jianshu.io/upload_images/7166236-283f5687cb73eea8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&#39;,
  ]; //存储图片Url
  title = &#39;app&#39;;
  shown = false;    //是否显示预览，初始化为否
  selectImageUrl: string; //用于存放选中图片的url
</code></pre>
<h3 id="2-图片预览显示与消失"><a href="#2-图片预览显示与消失" class="headerlink" title="2. 图片预览显示与消失"></a>2. 图片预览显示与消失</h3><ul>
<li>此处图片预览使用原生自带的方法，微信的做法应该是通过<code>[ngStyle]</code>来控制整个<code>&lt;div&gt;</code>样式，而我采用了与生成缩略图相同的方法，<strong>用<code>[ngStyle]</code>指令以及<code>*ngIf</code>指令控制预览图的显示</strong>，然后在预览图的范围上绑定一个点击事件<code>(click)=&quot;touchEvent()&quot;</code>，用于监听用户的点击，实现<strong>点击退出预览</strong>的功能。主要代码如下：</li>
<li>微信的做法（根据点击页面获取到的代码）：</li>
</ul>
<pre><code class="html">&lt;!--预览隐藏的样式--&gt;
&lt;div class=&quot;weui-gallery&quot; id=&quot;gallery&quot; style=&quot;opacity: 0; display: none;&quot;&gt;

&lt;/div&gt;

&lt;!--预览显示的样式--&gt;
&lt;div class=&quot;weui-gallery&quot; id=&quot;gallery&quot; style=&quot;display: block; opacity: 1;&quot;&gt;

&lt;/div&gt;
</code></pre>
<ul>
<li><strong>我采用的做法：</strong></li>
</ul>
<pre><code class="html">&lt;div  class=&quot;weui-gallery&quot; id=&quot;gallery&quot; style=&quot;display: block&quot;
             *ngIf=&quot;shown&quot;&gt;
            &lt;span class=&quot;weui-gallery__img&quot; (click)=&quot;touchEvent()&quot; [ngStyle]=&quot;{&#39;background-image&#39;:selectImageUrl}&quot;&gt;&lt;/span&gt;
            &lt;div class=&quot;weui-gallery__opr&quot;&gt;
                &lt;a href=&quot;javascript:&quot; (click)=&quot;onDelete()&quot; class=&quot;weui-gallery__del&quot;&gt;
                    &lt;i class=&quot;weui-icon-delete weui-icon_gallery-delete&quot;&gt;&lt;/i&gt;
                &lt;/a &gt;
            &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="typescript">//点击缩略图显示预览
  showPicture($event){
    console.log(&quot;$event.target.backgroundImage：&quot; + $event.target.style.backgroundImage);
    this.selectImageUrl = $event.target.style.backgroundImage;
    this.shown = true;
  }

//点击屏幕退出预览
touchEvent(){
    this.shown = false;
  }
</code></pre>
<h3 id="3-图片删除"><a href="#3-图片删除" class="headerlink" title="3. 图片删除"></a>3. 图片删除</h3><ul>
<li>图片删除的主要代码嵌套在图片预览的代码块中，只要为删除部分绑定一个点击事件（<code>(click)=&quot;onDelete()&quot;</code>），点击时出发删除并且退出预览即可。</li>
</ul>
<pre><code class="typescript">onDelete(){
    if(isUndefined(this.selectImageUrl)){
      console.log(&quot;查看图片预览，图片url未定义，this.selectImageUrl：&quot; + this.selectImageUrl);
      return;
    }
  //正则去除URL中的双引号
    this.selectImageUrl = this.selectImageUrl.replace(/&quot;/g,&quot;&quot;);
    console.log(&quot;(this.picturesUrl.indexOf(this.selectImageUrl):&quot;+this.picturesUrl.indexOf(this.selectImageUrl));
    //判断图片URL是否存在
    if(this.picturesUrl.indexOf(this.selectImageUrl)!== -1){
      this.picturesUrl.splice(this.picturesUrl.indexOf(this.selectImageUrl) , 1);
      setTimeout(()=&gt;{
          this.shown = false;
        },
        20);
    }else{
      console.log(&quot;删除图片出错，获取URL或URL格式出错出错：&quot; + this.selectImageUrl )
    }
  }
</code></pre>
<h3 id="效果如下："><a href="#效果如下：" class="headerlink" title="效果如下："></a>效果如下：</h3><h4 id="显示缩略图："><a href="#显示缩略图：" class="headerlink" title="显示缩略图："></a>显示缩略图：</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-572b424232ae8766.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="显示预览："><a href="#显示预览：" class="headerlink" title="显示预览："></a>显示预览：</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-063b0ebd764dfc06.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="点击下面的删除栏："><a href="#点击下面的删除栏：" class="headerlink" title="点击下面的删除栏："></a>点击下面的删除栏：</h3><p><img src="http://upload-images.jianshu.io/upload_images/7166236-e59903dc3138c278.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="2017-12-02-更正"><a href="#2017-12-02-更正" class="headerlink" title="2017-12-02 更正"></a>2017-12-02 更正</h3><ul>
<li>其实获取图片应该异步加载的，这个问题很严重，正常大小的图片在显示之前应该保证在显示之前已经下载好了或者，在加载的时候做缓冲显示，不然如果图片一大或者网络一卡，加载的时候就很诡异，用户体验不是很好。</li>
<li>源码戳-&gt;<a href="https://github.com/Husbin/web/tree/master/wechat-picture" target="_blank" rel="noopener">demo源码</a></li>
<li>在线demo-&gt;<a href="http://119.23.214.114:8888/" target="_blank" rel="noopener">戳你狗头</a></li>
</ul>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/10/21/css-1/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/10/10/vue-4/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/touxiang.png" alt="Husbin's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        2905895313@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="https://mail.qq.com/" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/02/">二月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">8</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Angular2/">Angular2<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/Nodejs/">Nodejs<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/css/">css<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/javascript/">javascript<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/vue/">vue<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/web基础知识/">web基础知识<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/琐言碎语/">琐言碎语<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">18</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Husbin
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?wgjW/HuQG9JDgvPDPoRAng==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?tNQK2Tw2SUL8a1Scn/Mgew==", true)</script>
    











<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
