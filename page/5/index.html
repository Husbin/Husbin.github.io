<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="与其临渊羡鱼，不如退而结网。">
<meta property="og:type" content="website">
<meta property="og:title" content="Husbin">
<meta property="og:url" content="http://easywork.xin/page/5/index.html">
<meta property="og:site_name" content="Husbin">
<meta property="og:description" content="与其临渊羡鱼，不如退而结网。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Husbin">
<meta name="twitter:description" content="与其临渊羡鱼，不如退而结网。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://easywork.xin/page/5/"/>





  <title>Husbin</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Husbin</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">与其临渊羡鱼，不如退而结网。</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            日程表
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/11/17/nodejs-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/17/nodejs-1/" itemprop="url">Nodejs-express 解决跨域问题</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T22:13:23+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web框架/" itemprop="url" rel="index">
                    <span itemprop="name">web框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>（全局解决）核心代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置跨域访问</span></span><br><span class="line">app.all(<span class="string">'*'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    res.header(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>);</span><br><span class="line">    res.header(<span class="string">"Access-Control-Allow-Headers"</span>, <span class="string">"X-Requested-With"</span>);</span><br><span class="line">    res.header(<span class="string">"Access-Control-Allow-Methods"</span>,<span class="string">"PUT,POST,GET,DELETE,OPTIONS"</span>);</span><br><span class="line">    res.header(<span class="string">"X-Powered-By"</span>,<span class="string">' 3.2.1'</span>)</span><br><span class="line">    res.header(<span class="string">"Content-Type"</span>, <span class="string">"application/json;charset=utf-8"</span>);</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
<li><p>参考资料-&gt;<a href="https://www.tuicool.com/articles/vYBR3y" target="_blank" rel="noopener">refernce</a></p>
</li>
<li><p>有点要注意的是<code>app.all()</code>这个路由方法作为一个中间件，是装入所有的请求方法路径的。要进行正常通信，需要在<strong>处理请求之前</strong>或者<strong>处理请求返回结果前</strong>解决跨域的问题（我的问题是统一ip，不同端口，因此不允许通信），所以要在所有http请求之前调用上面的函数。</p>
</li>
<li><p>因此像参考资料那样子，在<code>var app = express()</code>执行后调用上述<code>app.all()</code>中间件是最好的。</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/11/05/ng2-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/05/ng2-2/" itemprop="url">关于部署ng-cli项目之后无法通过IP访问的问题</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-05T21:09:22+08:00">
                2017-11-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web框架/" itemprop="url" rel="index">
                    <span itemprop="name">web框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>问题描述：</p>
<ul>
<li><p>前阵子写了个ng-cli的demo，是关于图片的。本来想部署到云服务器上，但是发现在配置完安全组，在服务器上<code>npm start</code>之后，一直访问不到这个页面，用工具扫我监听的端口一直显示关闭，我监听的端口是8888。</p>
</li>
<li><p>安全组规则如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-3a2f0cb3933bc9d5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>​</p>
</li>
<li><p>执行<code>npm start</code>，情况如下：</p>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-ddb490d2fe854b15.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<ul>
<li>发现监听的是<code>localhost</code>，然后我把localhost修改为<code>127.0.0.1</code>之后，再执行了一遍，还是访问不了，最后查到资料，<strong>把<code>localhost</code>改为<code>0.0.0.0</code></strong>之后，再执行一遍，发现可以正常访问了。</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-285f1313534e7986.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-42dd8c03781dc011.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<ul>
<li>最后，关于<code>angular-cli</code>项目的<code>localhost</code>以及默认端口的修改，是在<code>/node_module/@angular/cli/lib/config/schema.json</code></li>
<li>在线demo请戳=》<a href="http://119.23.214.114:8888/" target="_blank" rel="noopener">戳你狗头</a> 。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/28/this-two-months/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/28/this-two-months/" itemprop="url">总结下最近（2017年暑假）</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-28T00:36:00+08:00">
                2017-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/琐言碎语/" itemprop="url" rel="index">
                    <span itemprop="name">琐言碎语</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>难得有得闲，做一下最近两三个月的总结吧。</li>
</ul>
<ul>
<li>其实我也很意外，自己打算做web，其实从大二开始对web就有点抵触，总觉得太简单了，没意思。但是经过这两三个月的折磨，还是决定入坑了。目前打算学好基础先，什么js，html，css之类的，然后顺便学下nodejs，以及其他与网站开发有关的知识。</li>
<li>最近3个月，做了2个学校的项目，其实也可以算一个吧，因为技术都一样的，内容也差不多。收获还是很多的，例如，了解了一个项目是如何做需求分析的，怎么做才能少踩坑；在老金的带领下，知道了一个项目的开发在企业中是如何进行的，在持续集成环境，svn版本控制工具下经行开发，做好接口文档（我写的是前端，接口文档都是后端的在写），以及百分之五十的时间其实还是用在了交流对接上，这是很有意义很重要也是很促进感情的。这是暑假到现在收获最大的。</li>
<li>然后就是觉得在创新班真的很不错，就大家挺包容的。想到自己这几个月挖了这么多坑就难受，直至今天才大概都解决完了。如果这是真的在工作我觉得我会被炒鱿鱼的哈哈哈哈。就拿一个简单的来说。这三个月来，最让我脑阔疼的就是图片上传，一直遇到很多很迷的错误。例如在微信android上能正常显示，在ios上不正常；在ios11上正常，在ios10上不正常；在chrome上能正常使用，到手机上就不行之类的等等，实在让人头疼。解决这个问题给我最大的感受就是，我写代码还是不够细心，以及定向思维对我的思考会有很大的影响。例如，图片上传功能在android上能正常使用，在ios上不行，我一下子就想到了会不会是ios系统的原因，然后这个原因一直在我脑中占了主导，即使是后端返回了明显的信息<code>文件后缀不支持</code>都被我忽视了。<strong>最后我发现，出现这个问题，竟然是因为ios10的图片格式是<code>JPG</code>，<code>PNG</code>，注意这是大写的，</strong>其实前后端都有锅，一方面后端没对这两个后缀处理，一方面我忽略了重要的信息。又例如ios11能正常上传，ios10不行这个问题，<strong>主要是因为ios11的文件后缀改了，变成<code>jpeg</code>了，而ios10是<code>PNG</code>和<code>JPG</code>。</strong>知道了这些情况后，困扰我多天的问题也就迎刃而解了。所以我觉得，<strong>跳出定向思维很重要。还有就是写代码要细心。</strong>就像第二个项目，刚刚部署上微信时，测试真的好痛苦。。题外话。。还是这个图片上传的问题，就上传图片的那个服务不是我写的我不是特别清楚，主要还是菜，我到现在还在访问自己，<strong>服务器的错误/正确情况都没做处理，哪里来的自信一定返回200</strong>，这个小细节也让我苦恼了好多天。还有很多很多开发上的细节，都让我受益很多。</li>
<li>然后就是真的觉得创新班的环境氛围都很不错，很多老师提供了很好的资源，同学之间又都有着目标，大家一起学习，真的很喜欢这种大家一起讨论方案的感觉，还有就是谢谢大家，虽然我是最菜的，写了很多坑，谢谢各位dalao的不杀之恩。</li>
<li>然后就是。。已经没什么时间可以无负担的挖坑了。。希望自己能有所改变吧。。现在多踩坑，以后才能少挖坑。共勉。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/21/css-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/21/css-1/" itemprop="url">css-基础知识</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-21T13:21:30+08:00">
                2017-10-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><ol>
<li>选择器</li>
<li>在html引入css的方式</li>
<li>css盒子模型</li>
</ol>
<h2 id="选择器Selectors"><a href="#选择器Selectors" class="headerlink" title="选择器Selectors"></a>选择器Selectors</h2><h3 id="基本选择器"><a href="#基本选择器" class="headerlink" title="基本选择器"></a>基本选择器</h3><ol>
<li>标签名选择器（tag selectors）：</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;	<span class="comment">/*声明部分*/</span></span><br><span class="line">  	<span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>类选择器（最常用）（class selectors）：</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.className</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>ID选择器（ID selectors）：<ul>
<li>id选择器比较少用，一般样式是可复用的，而同个页面id是唯一的，这样就降低了样式的复用率。但是一般类似<code>header</code>，<code>footer</code>，<code>banner</code>，<code>conntent</code>可设置成ID选择器，因为相同的样式在同一页面里不可能有第二次。</li>
</ul>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#idName</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>伪类选择器：</p>
<ul>
<li>CSS伪类（<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Pseudo-classes" target="_blank" rel="noopener">pseudo-class</a>）是加在选择器后面的用来指定元素状态的关键字。比如，<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:hover" target="_blank" rel="noopener"><code>:hover</code></a> 会在鼠标悬停在选中元素上时应用相应的样式。伪类和伪元素（pseudo-elements）不仅可以让你为符合某种文档树结构的元素指定样式，还可以为符合某些外部条件的元素指定样式：浏览历史(比如是否访问过 (<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:visited" target="_blank" rel="noopener"><code>:visited</code></a>)， 内容状态(如 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:checked" target="_blank" rel="noopener"><code>:checked</code></a> ), 鼠标位置 (如<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:hover" target="_blank" rel="noopener"><code>:hover</code></a>). </li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;<span class="attribute">color</span>: <span class="number">#FF0000</span>&#125;		<span class="comment">/* 未访问的链接 */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;<span class="attribute">color</span>: <span class="number">#00FF00</span>&#125;	<span class="comment">/* 已访问的链接 */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">color</span>: <span class="number">#FF00FF</span>&#125;	<span class="comment">/* 鼠标移动到链接上 */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;<span class="attribute">color</span>: <span class="number">#0000FF</span>&#125;	<span class="comment">/* 选定的链接 */</span></span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
<li><p>通配符选择器（*）：</p>
<p>*选择所有元素。</p>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">  <span class="attribute">marigin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="扩展选择器"><a href="#扩展选择器" class="headerlink" title="扩展选择器"></a>扩展选择器</h3><ul>
<li>在标签内写入<code>style=“”</code>的方式，应该是css的一种引入，而不是选择器。</li>
</ul>
<ol>
<li>后代选择器：<ul>
<li>后代选择器实际上是使用多个选择器中间加上空格来找到具体要定位的标签。选择器之间的空格是一种结合符。以下的例子可以解释为<code>em</code>在<code>h1</code>中找到，<code>em</code>作为<code>h1</code>的后代。</li>
</ul>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> <span class="selector-tag">em</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>群组选择器：<ul>
<li>实际上是css标签名选择器的一种简化写法。把有相同定义的不同选择器放在一起，节省代码。</li>
</ul>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>,<span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="在HTML中引入css"><a href="#在HTML中引入css" class="headerlink" title="在HTML中引入css"></a>在HTML中引入css</h2><ul>
<li>包括行内式，内嵌式，导入式，链接式。</li>
</ul>
<ol>
<li>行内式：在标签内的style属性设定css样式，这种方式本质上没有体现处css的优势，因此不推荐使用。</li>
</ol>
<p><code>&lt;h2 style=&quot;color: blue&quot;&gt;在html引入css--行内式&lt;/h2&gt;</code></p>
<ol>
<li>嵌入式：在对页面中各种元素的设置集中写在<code>&lt;head&gt;&lt;/head&gt;</code>之间，对单个页面来说，这种方式很方便。</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        h2&#123;</span></span><br><span class="line"><span class="undefined">            color: aqua;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>导入式：</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">import</span> <span class="string">"style.css"</span>;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>链接式：</li>
</ol>
<p><code>&lt;link href=&quot;style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;</code></p>
<h3 id="导入式和链接式的区别"><a href="#导入式和链接式的区别" class="headerlink" title="导入式和链接式的区别"></a>导入式和链接式的区别</h3><ul>
<li><p><strong>链接式：</strong>会在装载页面主体部分之前装载css文件，这样显示出来的网页从一开始就是带有样式效果的。</p>
</li>
<li><p><strong>导入式：</strong>会在整个页面装载完成之后在装入css文件，对于有的浏览器来说，在一些情况下，如果网页文件的体积比较大，则会显示无样式的页面，闪烁一下之后再出现设置样式后的效果。从用户的角度看，这是导入式的一个缺陷。</p>
</li>
<li><p>对于一些比较大的网站，为了便于维护，可能会希望把所有的css样式分类别放到几个CSS文件中，这样如果使用链接式引入，就需要几个语句分别导入CSS文件。如果要调整CSS文件的分类，就需要同时调整HTML文件，这对于维护工作来说，是一个缺陷，如果使用导入式，则可以只引进一个总的CSS文件，在这个文件中再导入其他独立CSS文件；而连接则不具备这个特性。</p>
<p>因此给大家的建议是：如果仅需要引入一个CSS文件，则使用连接方式，如果需要引入多个CSS文件，则首先用连接方式引入一个“目录”CSS文件，这个“目录”CSS文件中再使用导入式引入其他CSS文件。如果希望用javascript来动态决定引入哪个css文件，则必须使用连接式才能实现。<a href="http://www.cnblogs.com/suzongwei/archive/2008/05/28/1209431.html" target="_blank" rel="noopener">reference–在html中引入CSS的方法。</a>   </p>
</li>
</ul>
<h4 id="样例："><a href="#样例：" class="headerlink" title="样例："></a><strong>样例：</strong></h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-d97a1144f413eec0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="源码-gt-：demo下载。"><a href="#源码-gt-：demo下载。" class="headerlink" title="源码-&gt;：demo下载。"></a>源码-&gt;：<a href="https://github.com/Husbin/web/tree/master/css" target="_blank" rel="noopener">demo下载</a>。</h4><h2 id="盒子模型（box-model）"><a href="#盒子模型（box-model）" class="headerlink" title="盒子模型（box-model）"></a>盒子模型（box-model）</h2><ul>
<li>CSS框模型是Web上布局的基础 - 每个元素都表示为一个矩形框，框的内容(content)，填充(padding)，边框(border)和边距(margin)彼此相似，如洋葱层。作为浏览器呈现网页布局，它制定了应用于每个框的内容的样式，周围的洋葱层有多大，以及盒子相对于彼此的位置。</li>
</ul>
<ol>
<li><code>width</code>和<code>height</code>：<code>width</code>和<code>height</code>的可以设定content的宽度和高度。</li>
<li><code>padding</code>：<code>padding（填充）</code>是指css框的<code>content</code>的外边缘和<code>border</code>的内边缘之间的部分。<code>padding-top</code>，<code>padding-bottom</code>，<code>padding-right</code>，<code>padding-left</code>。</li>
<li><code>border</code>：<code>boder（边框）</code>位于<code>padding</code>的外边缘和<code>margin</code>的内边缘之间。<code>border</code>的默认大小为0，使其不可见。<code>border</code>可一次设置所有四面体，也可分开设置：<ul>
<li><code>border-top</code>，<code>border-right</code>，<code>border-bottom</code>，<code>border-left</code>：设置厚度，款式和边境一侧的颜色。</li>
<li><code>border-width</code>，<code>border-style</code>，<code>border-color</code>：设置仅厚，样式或颜色独立，但边界的所有四个侧面。</li>
<li>您还可以设置单独的边框的单面的三个属性之一，使用<code>border-top-width</code>，<code>border-top-style</code>，<code>border-top-color</code>，等。 </li>
</ul>
</li>
<li><code>margin</code>：<code>margin</code>围绕一个CSS框，并向上推动布局中的其他CSS框。它的行为很像<code>padding</code>; 速记属性<code>margin</code>和个人属性是<code>margin-top</code>，<code>margin-right</code>，<code>margin-bottom</code>，和<code>margin-left</code>。</li>
</ol>
<h3 id="2种盒子模型"><a href="#2种盒子模型" class="headerlink" title="2种盒子模型"></a>2种盒子模型</h3><h4 id="w3c标准盒子模型"><a href="#w3c标准盒子模型" class="headerlink" title="w3c标准盒子模型"></a>w3c标准盒子模型</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-a0a6011d6365e58a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p> 从上图可以看到标准 w3c 盒子模型的范围包括 margin、border、padding、content，并且 content 部分不包含其他部分。</p>
<h4 id="IE盒子模型"><a href="#IE盒子模型" class="headerlink" title="IE盒子模型"></a>IE盒子模型</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-8445cc1d8e68e43b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>从上图可以看到 ie 盒子模型的范围也包括 margin、border、padding、content，和标准 w3c 盒子模型不同的是：ie 盒子模型的 content 部分包含了 border 和 pading。</p>
<h3 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 关键字 值 */</span></span><br><span class="line"><span class="selector-tag">box-sizing</span>: <span class="selector-tag">content-box</span>;</span><br><span class="line"><span class="selector-tag">box-sizing</span>: <span class="selector-tag">border-box</span>;</span><br></pre></td></tr></table></figure>
<h4 id="content-box"><a href="#content-box" class="headerlink" title="content-box"></a>content-box</h4><p><code>content-box</code>  是默认值。如果你设置一个元素的宽为100px，那么这个元素的内容区会有100px宽，并且任何边框和内边距的宽度都会被增加到最后绘制出来的元素宽度中。</p>
<h4 id="border-box"><a href="#border-box" class="headerlink" title="border-box"></a>border-box</h4><p><code>border-box</code> 告诉浏览器去理解你设置的边框和内边距的值是包含在width内的。也就是说，如果你将一个元素的width设为100px,那么这100px会包含其它的border和padding，内容区的实际宽度会是width减去border + padding的计算值。大多数情况下这使得我们更容易的去设定一个元素的宽高。</p>
<p>一些专家建议所有的Web开发者们<a href="https://css-tricks.com/international-box-sizing-awareness-day/" target="_blank" rel="noopener">将所有的元素的box-sizing都设为border-box</a>。</p>
<h4 id="举个例子"><a href="#举个例子" class="headerlink" title="举个例子"></a>举个例子</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    div&#123;</span></span><br><span class="line"><span class="undefined">        width: 200px;</span></span><br><span class="line"><span class="undefined">        height: 100px;</span></span><br><span class="line"><span class="undefined">        text-align: center;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background-color: red;</span></span></span><br><span class="line"><span class="tag"><span class="string">            padding: 20px;</span></span></span><br><span class="line"><span class="tag"><span class="string">            border: 20px solid;</span></span></span><br><span class="line"><span class="tag"><span class="string">            box-sizing: content-box;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        content-box;//默认值</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>box-sizing: content-box;//默认值<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    width = 内容的宽度<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    height = 内容的高度</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background-color: blue;</span></span></span><br><span class="line"><span class="tag"><span class="string">            padding: 20px;</span></span></span><br><span class="line"><span class="tag"><span class="string">            border: 20px solid;</span></span></span><br><span class="line"><span class="tag"><span class="string">            box-sizing: border-box;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        border-box;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>box-sizing: border-box;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    width = border + padding + 内容的  width，<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    height = border + padding + 内容的 height。</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>两个200x100的块，显示如下：</p>
<p><img src="https://github.com/Husbin/Husbin.github.io/blob/master/img/blogimg/css/box-sizing.png?raw=true" alt="box-sizing"></p>
<p>在看下各自的盒模型：</p>
<p><strong>使用content-box：</strong></p>
<p><img src="https://github.com/Husbin/Husbin.github.io/blob/master/img/blogimg/css/box-sizing1.jpg?raw=true" alt="box-sizing"></p>
<p>可以看出content部分还是200x100。</p>
<p><strong>使用border-box：</strong></p>
<p><img src="https://github.com/Husbin/Husbin.github.io/blob/master/img/blogimg/css/box-sizing2.jpg?raw=true" alt="box-sizing"></p>
<p>可以看出  border + padding + 内容的 width = 200 = width。</p>
<h4 id="content-box的缺点"><a href="#content-box的缺点" class="headerlink" title="content-box的缺点"></a>content-box的缺点</h4><p>举个例子</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    div&#123;</span></span><br><span class="line"><span class="undefined">        width: 200px;</span></span><br><span class="line"><span class="undefined">        height: 100px;</span></span><br><span class="line"><span class="undefined">        text-align: center;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"background-color: red;"</span>&gt;</span></span><br><span class="line">    parent</span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"width: 100%;</span></span></span><br><span class="line"><span class="tag"><span class="string">    border: 10px solid;</span></span></span><br><span class="line"><span class="tag"><span class="string">    box-sizing: content-box;</span></span></span><br><span class="line"><span class="tag"><span class="string">    padding: 10px;</span></span></span><br><span class="line"><span class="tag"><span class="string">    "</span>&gt;</span></span><br><span class="line">        child</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>会出现如下结果：</p>
<p><img src="https://github.com/Husbin/Husbin.github.io/blob/master/img/blogimg/css/box-sizing3.jpg?raw=true" alt="box-sizing"></p>
<p>所以缺点很明显了吧。。</p>
<p>总结：</p>
<p><strong>box-sizing: content-box 下：</strong></p>
<ul>
<li>width = 内容的宽度</li>
<li>height = 内容的高度</li>
</ul>
<p><strong>box-sizing: border-box下：</strong></p>
<ul>
<li>width = border + padding + 内容的  width</li>
<li>height = border + padding + 内容的 height</li>
</ul>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="https://github.com/shinygang/Article/blob/master/CSS%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E7%90%86%E8%A7%A3.md" target="_blank" rel="noopener">reference – CSS盒子模型理解</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/box-sizing" target="_blank" rel="noopener">box-sizing</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/18/ng2-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/18/ng2-1/" itemprop="url">Angular2-仿照微信UI实现9张图片上传和预览</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-18T20:14:22+08:00">
                2017-10-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web框架/" itemprop="url" rel="index">
                    <span itemprop="name">web框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>本来在看vue.js没多久，最近在赶一个项目用回了angular2，还是先把ng2搞定吧，毕竟还不怎么懂。这两天我做的是用户表单数据的提交，大部分很简单，双向绑定就完事了，主要还是沟通的问题哈哈哈哈，虽然沟通的时候有点暴躁想甩锅，不过出了门还是高高兴兴吃饭高高兴兴回去。</li>
<li>好了切入问题。这几天做得最久的是仿照微信UI做的图片上传/显示缩略图/预览/删除功能，要求图片1–9张。下面来记录下如何实现微信的图片预览/删除功能。</li>
</ul>
<h2 id="样式–weui-css"><a href="#样式–weui-css" class="headerlink" title="样式–weui.css"></a>样式–weui.css</h2><ul>
<li>样式用的是微信官方ui，weui.min.css（生产环境下建议使用此压缩版）。</li>
<li>下载地址<a href="https://github.com/Tencent/weui/releases" target="_blank" rel="noopener">weui.css/weui.min.css</a>。</li>
</ul>
<h2 id="样例–weui-io"><a href="#样例–weui-io" class="headerlink" title="样例–weui.io"></a>样例–weui.io</h2><ul>
<li>微信官方自带了demo: <a href="https://weui.io/" target="_blank" rel="noopener">weui.io</a>。</li>
</ul>
<h2 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h2><ul>
<li>在正式进入各个小功能的解说前，先上官方demo-&gt;<a href="https://weui.io/" target="_blank" rel="noopener">weui.io</a>查看图片上传组件的样式以及源代码。</li>
</ul>
<h4 id="官方ui显示如下，图片上传的ui在Uploader中。"><a href="#官方ui显示如下，图片上传的ui在Uploader中。" class="headerlink" title="官方ui显示如下，图片上传的ui在Uploader中。"></a>官方ui显示如下，图片上传的ui在Uploader中。</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-1f0bd973c370959a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="图片上传的源码从审查元素中可获取，如下所示："><a href="#图片上传的源码从审查元素中可获取，如下所示：" class="headerlink" title="图片上传的源码从审查元素中可获取，如下所示："></a>图片上传的源码从审查元素中可获取，如下所示：</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page uploader js_show"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page__hd"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"page__title"</span>&gt;</span>Uploader<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"page__desc"</span>&gt;</span>上传组件，一般配合<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"link"</span> <span class="attr">href</span>=<span class="string">" "</span>&gt;</span>组件Gallery<span class="tag">&lt;/<span class="name">a</span> &gt;</span>来使用。<span class="tag">&lt;/<span class="name">p</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page__bd"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-gallery"</span> <span class="attr">id</span>=<span class="string">"gallery"</span> <span class="attr">style</span>=<span class="string">"opacity: 0; display: none;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"weui-gallery__img"</span> <span class="attr">id</span>=<span class="string">"galleryImg"</span> <span class="attr">style</span>=<span class="string">"background-image:url(./images/pic_160.png)"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-gallery__opr"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:"</span> <span class="attr">class</span>=<span class="string">"weui-gallery__del"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"weui-icon-delete weui-icon_gallery-delete"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-cells weui-cells_form"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-cell"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-cell__bd"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-uploader"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-uploader__hd"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"weui-uploader__title"</span>&gt;</span>图片上传<span class="tag">&lt;/<span class="name">p</span> &gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-uploader__info"</span>&gt;</span>0/2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-uploader__bd"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"weui-uploader__files"</span> <span class="attr">id</span>=<span class="string">"uploaderFiles"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file"</span> <span class="attr">style</span>=<span class="string">"background-image:url(./images/pic_160.png)"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file"</span> <span class="attr">style</span>=<span class="string">"background-image:url(./images/pic_160.png)"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file"</span> <span class="attr">style</span>=<span class="string">"background-image:url(./images/pic_160.png)"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file weui-uploader__file_status"</span> <span class="attr">style</span>=<span class="string">"background-image:url(./images/pic_160.png)"</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file-content"</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"weui-icon-warn"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file weui-uploader__file_status"</span> <span class="attr">style</span>=<span class="string">"background-image:url(./images/pic_160.png)"</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file-content"</span>&gt;</span>50%<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-uploader__input-box"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"uploaderInput"</span> <span class="attr">class</span>=<span class="string">"weui-uploader__input"</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">accept</span>=<span class="string">"image/*"</span> <span class="attr">multiple</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page__ft j_bottom"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:home()"</span>&gt;</span><span class="tag">&lt; <span class="attr">img</span> <span class="attr">src</span>=<span class="string">"./images/icon_footer_link.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>观察上面的代码，外层样式直接套用，核心功能块如下：</li>
</ul>
<ol>
<li><strong>图片预览/删除部分：</strong></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-gallery"</span> <span class="attr">id</span>=<span class="string">"gallery"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--显示预览--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"weui-gallery__img"</span> <span class="attr">id</span>=<span class="string">"galleryImg"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--删除按钮--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-gallery__opr"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:"</span> <span class="attr">class</span>=<span class="string">"weui-gallery__del"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"weui-icon-delete weui-icon_gallery-delete"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li><strong>图片缩略图列表部分：</strong></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"weui-uploader__files"</span> <span class="attr">id</span>=<span class="string">"uploaderFiles"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--每张图片是一个&lt;li&gt;标签--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"weui-uploader__file"</span> <span class="attr">style</span>=<span class="string">"background-image:url(./images/pic_160.png)"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>有了上面的准备，下载就可以对功能进行实现了:</li>
</ul>
<h3 id="1-图片缩略图显示"><a href="#1-图片缩略图显示" class="headerlink" title="1. 图片缩略图显示"></a>1. 图片缩略图显示</h3><ul>
<li>观察源码可知，每张图片的缩略图的代码结构如下：</li>
</ul>
<p><code>&lt;li class=&quot;weui-uploader__file&quot; style=&quot;background-image:url(./images/pic_160.png)&quot;&gt;&lt;/li&gt;</code></p>
<ul>
<li>他将图片的url直接放到了<code>background-img:url()</code>属性中，样式直接使用微信的官方ui的class。因此，我们可以做这样操作：<strong>创建一个数组存<code>picturesUrl</code>放图片的url，用angular2的指令<code>*ngFor</code>根据数组中的内容动态生成缩略图列表（注意picturesUrl中元素的格式为：<code>url(图片的url)）</code>：</strong>，图片url数组中的每个元素依次存进中间变量<code>img</code>中，<strong>然后使用angular2指令<code>[ngStyle]</code>根据img的值生成预览图</strong>，主要代码如下：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"weui-uploader__files picture-preview"</span> <span class="attr">id</span>=<span class="string">"uploaderFiles"</span> &gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">"let img of picturesUrl"</span></span></span><br><span class="line"><span class="tag">                                    <span class="attr">class</span>=<span class="string">"weui-uploader__file"</span></span></span><br><span class="line"><span class="tag">                                    [<span class="attr">ngStyle</span>]=<span class="string">"&#123;'background-image':img&#125;"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--img实例--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--'url(http://upload-images.jianshu.io/upload_images/7166236-ed8a621900728c39.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)'--&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在ts文件中定义图片数组并且给一定的模拟数据：</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">picturesUrl = [</span><br><span class="line">    <span class="string">'url(http://upload-images.jianshu.io/upload_images/7166236-40ed406c30ef20a0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)'</span>,</span><br><span class="line">    <span class="string">'url(http://upload-images.jianshu.io/upload_images/7166236-d79762ed654342bf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)'</span>,</span><br><span class="line">    <span class="string">'url(http://upload-images.jianshu.io/upload_images/7166236-64e1a458e5e29d59.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)'</span>,</span><br><span class="line">    <span class="string">'url(http://upload-images.jianshu.io/upload_images/7166236-9a267a540acb8688.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)'</span>,</span><br><span class="line">    <span class="string">'url(http://upload-images.jianshu.io/upload_images/7166236-283f5687cb73eea8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)'</span>,</span><br><span class="line">  ]; <span class="comment">//存储图片Url</span></span><br><span class="line">  title = <span class="string">'app'</span>;</span><br><span class="line">  shown = <span class="literal">false</span>;    <span class="comment">//是否显示预览，初始化为否</span></span><br><span class="line">  selectImageUrl: <span class="built_in">string</span>; <span class="comment">//用于存放选中图片的url</span></span><br></pre></td></tr></table></figure>
<h3 id="2-图片预览显示与消失"><a href="#2-图片预览显示与消失" class="headerlink" title="2. 图片预览显示与消失"></a>2. 图片预览显示与消失</h3><ul>
<li>此处图片预览使用原生自带的方法，微信的做法应该是通过<code>[ngStyle]</code>来控制整个<code>&lt;div&gt;</code>样式，而我采用了与生成缩略图相同的方法，<strong>用<code>[ngStyle]</code>指令以及<code>*ngIf</code>指令控制预览图的显示</strong>，然后在预览图的范围上绑定一个点击事件<code>(click)=&quot;touchEvent()&quot;</code>，用于监听用户的点击，实现<strong>点击退出预览</strong>的功能。主要代码如下：</li>
<li>微信的做法（根据点击页面获取到的代码）：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--预览隐藏的样式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-gallery"</span> <span class="attr">id</span>=<span class="string">"gallery"</span> <span class="attr">style</span>=<span class="string">"opacity: 0; display: none;"</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--预览显示的样式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-gallery"</span> <span class="attr">id</span>=<span class="string">"gallery"</span> <span class="attr">style</span>=<span class="string">"display: block; opacity: 1;"</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>我采用的做法：</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"weui-gallery"</span> <span class="attr">id</span>=<span class="string">"gallery"</span> <span class="attr">style</span>=<span class="string">"display: block"</span></span></span><br><span class="line"><span class="tag">             *<span class="attr">ngIf</span>=<span class="string">"shown"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"weui-gallery__img"</span> (<span class="attr">click</span>)=<span class="string">"touchEvent()"</span> [<span class="attr">ngStyle</span>]=<span class="string">"&#123;'background-image':selectImageUrl&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"weui-gallery__opr"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:"</span> (<span class="attr">click</span>)=<span class="string">"onDelete()"</span> <span class="attr">class</span>=<span class="string">"weui-gallery__del"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"weui-icon-delete weui-icon_gallery-delete"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//点击缩略图显示预览</span></span><br><span class="line">  showPicture($event)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"$event.target.backgroundImage："</span> + $event.target.style.backgroundImage);</span><br><span class="line">    <span class="keyword">this</span>.selectImageUrl = $event.target.style.backgroundImage;</span><br><span class="line">    <span class="keyword">this</span>.shown = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//点击屏幕退出预览</span></span><br><span class="line">touchEvent()&#123;</span><br><span class="line">    <span class="keyword">this</span>.shown = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-图片删除"><a href="#3-图片删除" class="headerlink" title="3. 图片删除"></a>3. 图片删除</h3><ul>
<li>图片删除的主要代码嵌套在图片预览的代码块中，只要为删除部分绑定一个点击事件（<code>(click)=&quot;onDelete()&quot;</code>），点击时出发删除并且退出预览即可。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">onDelete()&#123;</span><br><span class="line">    <span class="keyword">if</span>(isUndefined(<span class="keyword">this</span>.selectImageUrl))&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"查看图片预览，图片url未定义，this.selectImageUrl："</span> + <span class="keyword">this</span>.selectImageUrl);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">//正则去除URL中的双引号</span></span><br><span class="line">    <span class="keyword">this</span>.selectImageUrl = <span class="keyword">this</span>.selectImageUrl.replace(<span class="regexp">/"/g</span>,<span class="string">""</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"(this.picturesUrl.indexOf(this.selectImageUrl):"</span>+<span class="keyword">this</span>.picturesUrl.indexOf(<span class="keyword">this</span>.selectImageUrl));</span><br><span class="line">    <span class="comment">//判断图片URL是否存在</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.picturesUrl.indexOf(<span class="keyword">this</span>.selectImageUrl)!== <span class="number">-1</span>)&#123;</span><br><span class="line">      <span class="keyword">this</span>.picturesUrl.splice(<span class="keyword">this</span>.picturesUrl.indexOf(<span class="keyword">this</span>.selectImageUrl) , <span class="number">1</span>);</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">          <span class="keyword">this</span>.shown = <span class="literal">false</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="number">20</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"删除图片出错，获取URL或URL格式出错出错："</span> + <span class="keyword">this</span>.selectImageUrl )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="效果如下："><a href="#效果如下：" class="headerlink" title="效果如下："></a>效果如下：</h3><h4 id="显示缩略图："><a href="#显示缩略图：" class="headerlink" title="显示缩略图："></a>显示缩略图：</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-572b424232ae8766.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="显示预览："><a href="#显示预览：" class="headerlink" title="显示预览："></a>显示预览：</h4><p><img src="http://upload-images.jianshu.io/upload_images/7166236-063b0ebd764dfc06.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="点击下面的删除栏："><a href="#点击下面的删除栏：" class="headerlink" title="点击下面的删除栏："></a>点击下面的删除栏：</h3><p><img src="http://upload-images.jianshu.io/upload_images/7166236-e59903dc3138c278.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="2017-12-02-更正"><a href="#2017-12-02-更正" class="headerlink" title="2017-12-02 更正"></a>2017-12-02 更正</h3><ul>
<li>其实获取图片应该异步加载的，这个问题很严重，正常大小的图片在显示之前应该保证在显示之前已经下载好了或者，在加载的时候做缓冲显示，不然如果图片一大或者网络一卡，加载的时候就很诡异，用户体验不是很好。</li>
<li>源码戳-&gt;<a href="https://github.com/Husbin/web/tree/master/wechat-picture" target="_blank" rel="noopener">demo源码</a></li>
<li>在线demo-&gt;<a href="http://119.23.214.114:8888/" target="_blank" rel="noopener">戳你狗头</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/10/vue-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/10/vue-4/" itemprop="url">条件渲染与列表渲染</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-10T13:00:28+08:00">
                2017-10-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web框架/" itemprop="url" rel="index">
                    <span itemprop="name">web框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h2><h3 id="v-if指令"><a href="#v-if指令" class="headerlink" title="v-if指令"></a><code>v-if</code>指令</h3><ul>
<li>​    利用<code>v-if</code>指令，可以实现在同一页面，不同的时期，根据需要渲染显示不同的块或模板<code>&lt;template&gt;</code>，实现不同的功能需求，从而提高页面的复用率。不同于Angular的<code>*ngIf</code>，在Vue中还提供了<code>v-else</code>指令，来表示<code>v-if</code>的else块。在<code>2.1.0</code>中还新增了<code>v-else-if</code>指令，顾名思义，充当<code>v-if</code>的else if块，类似一般编程语言中的控制语句（if–else if–else），<code>v-else-if</code>可以链式地使用多次。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"type === 'A'"</span>&gt;</span>A<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'B'"</span>&gt;</span> B<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'C'"</span>&gt;</span>C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>Not A/B/C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>值得注意的是类似<code>v-else</code>，<code>v-else-if</code>必须跟在<code>v-if</code>或者<code>v-else-if</code>元素之后。</li>
</ul>
<h3 id="v-show指令"><a href="#v-show指令" class="headerlink" title="v-show指令"></a><code>v-show</code>指令</h3><ul>
<li><p><code>v-show</code>也是一个根据条件展示选项的指令。用法大致一样：</p>
<p><code>&lt;h1 v-show=&quot;ok&quot;&gt;Hello!&lt;/h1&gt;</code></p>
</li>
<li><p>不同的是带有<code>v-show</code>的元素始终会被渲染并保留在DOM中，本质上讲，<strong><code>v-show</code>只是简单的切换元素的css属性<code>display</code></strong>。并且，<code>v-show</code>不支持<code>&lt;template&gt;</code>语法和<code>v-else</code>指令。</p>
</li>
</ul>
<h3 id="v-if与v-show的区别与应用场景"><a href="#v-if与v-show的区别与应用场景" class="headerlink" title="v-if与v-show的区别与应用场景"></a><code>v-if</code>与<code>v-show</code>的区别与应用场景</h3><ul>
<li><code>v-if</code>是正真的条件渲染，因为<code>v-if</code>是惰性的，如果在初始渲染时条件为假，则什么也不做一直到条件第一次变为真时，才会开始渲染条件块。同时，他会确保在切换过程中条件块内的时间监听器和子组件适当地销毁和重建。</li>
<li><code>v-show</code>则不管初始条件是什么，元素总会被渲染，并且只是简单的基于css进行切换。</li>
<li>一般来说，<code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件不太可能改变，则使用 <code>v-if</code> 较好。</li>
</ul>
<h2 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h2><h3 id="用v-for渲染一个数组"><a href="#用v-for渲染一个数组" class="headerlink" title="用v-for渲染一个数组"></a>用<code>v-for</code>渲染一个数组</h3><ul>
<li>我们用<code>v-for</code>指令根据一组数组的选项列表进行渲染，该指令需要使用<code>item in items</code>形式的特殊语法，<code>items</code>是源数据数组，并且<code>item</code>是数组元素迭代的别名。在<code>v-for</code>块，我们对父作用域属性有完全的访问权限，<code>v-for</code>还支持一个可选的第二个参数为当前项的索引。（也可以用<code>of</code>代替<code>in</code>，因为他是最接近<code>javascript</code>迭代器的语法）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"example-2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in items"</span>&gt;</span></span><br><span class="line">    &#123;&#123; parentMessage &#125;&#125; - &#123;&#123; index &#125;&#125; - &#123;&#123; item.message &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> example2 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#example-2'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    parentMessage: <span class="string">'Parent'</span>,</span><br><span class="line">    items: [</span><br><span class="line">      &#123; <span class="attr">message</span>: <span class="string">'Foo'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">message</span>: <span class="string">'Bar'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="用v-for渲染一个对象"><a href="#用v-for渲染一个对象" class="headerlink" title="用v-for渲染一个对象"></a>用<code>v-for</code>渲染一个对象</h3><ul>
<li>我们也可以用<code>v-for</code>通过一个对象的属性来迭代，我们可以提供第二个可选参数为键名，第三个可选参数为索引。在遍历对象时，是按<code>Object.keys()</code>的结果遍历的，但是不能保证他的结果在不同的Javascript引擎下是一致的。建议尽可能在使用 <code>v-for</code> 时提供 <code>key</code>，除非遍历输出的 DOM 内容非常简单，或者是刻意依赖默认行为以获取性能上的提升。因为它是 Vue 识别节点的一个通用机制，<code>key</code> 并不与 <code>v-for</code> 特别关联，key 还具有其他用途。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(value, key, index) in object"</span>&gt;</span></span><br><span class="line">  &#123;&#123; index &#125;&#125;. &#123;&#123; key &#125;&#125;: &#123;&#123; value &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#v-for-object'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    object: &#123;</span><br><span class="line">      firstName: <span class="string">'John'</span>,</span><br><span class="line">      lastName: <span class="string">'Doe'</span>,</span><br><span class="line">      age: <span class="number">30</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="用v-for渲染一段取值范围"><a href="#用v-for渲染一段取值范围" class="headerlink" title="用v-for渲染一段取值范围"></a>用<code>v-for</code>渲染一段取值范围</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-for</span>=<span class="string">"n in 10"</span>&gt;</span>&#123;&#123; n &#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>输出：1 2 3 4 5 6 7 8 9 10</code></p>
<h3 id="用v-for渲染-lt-template-gt-和组件"><a href="#用v-for渲染-lt-template-gt-和组件" class="headerlink" title="用v-for渲染&lt;template&gt;和组件"></a>用<code>v-for</code>渲染<code>&lt;template&gt;</code>和组件</h3><ul>
<li>类似<code>v-if</code>，我们也可以用带有<code>v-for</code>的<code>&lt;template&gt;</code>渲染多个元素或者直接渲染一个组件。比如：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">"item in items"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; item.msg &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"divider"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>在自定义组件中，我们可以像任何普通元素一样使用<code>v-for</code>。在<code>2.2.0+</code>的版本中，当在组件中使用<code>v-for</code>时，<code>key</code>是必须的。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-component</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-for</span>=<span class="string">"(item, index) in items"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-bind:item</span>=<span class="string">"item"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-bind:index</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-bind:key</span>=<span class="string">"item.id"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>不自动将 <code>item</code> 注入到组件里的原因是，这会使得组件与 <code>v-for</code> 的运作紧密耦合。明确组件数据的来源能够使组件在其他场合重复使用。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/08/vue-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/08/vue-3/" itemprop="url">计算属性和观察者</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-08T18:00:40+08:00">
                2017-10-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web框架/" itemprop="url" rel="index">
                    <span itemprop="name">web框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><p>​    直接在模板内的嵌入表达式是非常便利的，但他们实际上是用于简单运算的，在实际开发中很少使用，因为在模板中嵌入太多逻辑会让模板过重且难以维护。例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></span><br><span class="line">  &#123;&#123; message.split('').reverse().join('') &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​    在这里，模板不再简单和清晰，并且如果要在多处地方重复使用此处的翻转字符串时，会更加难以处理。 <strong>因此，对于复杂逻辑，vue引入了计算属性（computed） </strong>。</p>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>​    我们可能<strong>将同计算属性相同的函数定义为一个方法</strong>，一般情况下，2种方法的作用效果是相同的。然而，不同的是计算属性是基于他们的依赖进行缓存的，计算属性只有在他的相关依赖发生改变时才会重新求值，而方法不同，每当触发重新渲染时，方法的调用方式总是再次执行函数。</p>
<ul>
<li>举个简单的例子：假设B依赖与A，要获取B的值，只要A的值不发生改变，每次访问B，计算属性都会立即返回之前的计算结果，而不会再次执行函数。如果是方法的话，只要页面一刷新，便会再次执行函数。</li>
<li><strong>为什么需要缓存？ </strong>假设我们有一个性能开销比较大的的计算属性 <strong>A</strong>，它需要遍历一个极大的数组和做大量的计算。然后我们可能有其他的计算属性依赖于 <strong>A</strong> 。如果没有缓存，我们将不可避免的多次执行 <strong>A</strong> 的 getter！如果你不希望有缓存，请用方法来替代。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Original message: "&#123;&#123; message &#125;&#125;"<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--计算属性实现翻转字符串--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Computed reversed message:"&#123;&#123; reversedMessage_1 &#125;&#125;"<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  	<span class="comment">&lt;!--方法实现翻转字符串--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Revered message: "&#123;&#123; reversedMessage_2() &#125;&#125;"<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">'#example'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        message:<span class="string">'hello'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123; </span><br><span class="line">      <span class="comment">//此函数相当于 vm.reversedMessage属性的getter函数</span></span><br><span class="line">        reversedMessage_1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.message.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        reversedMessage_2: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.message.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>因为 <code>Date.now()</code> 不是响应式依赖，下面再举个简单的栗子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Time:"&#123;&#123; now_1 &#125;&#125;"<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Time:"&#123;&#123; now_2() &#125;&#125;"<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">'#example'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        message:<span class="string">'hello'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">        now_1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        now_2: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleString();</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>打开控制台（console），分别调用方法<code>vm.now_2()</code>和计算属性<code>vm.now_1</code>，查看输出状态如下：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-47a4c175d3e76690.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>​    可以看出，调用方法，获取到的是更新后的值，调用计算属性，获取到的是缓存的值。</p>
<h2 id="观察者"><a href="#观察者" class="headerlink" title="观察者"></a>观察者</h2><ul>
<li>虽然计算属性在大多数情况下更合适，但有时也需要一个自定义的 watcher。这是为什么 Vue 通过 <code>watch</code> 选项提供一个更通用的方法，来响应数据的变化。当你想要在数据变化响应时，<strong>执行异步操作或开销较大的操作</strong>，这是很有用的。demo如下：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"watch-example"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        Ask a yes/no question:</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"question"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; answer &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> watchVM = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el:<span class="string">'#watch-example'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        question:<span class="string">''</span>,</span><br><span class="line">        answer:<span class="string">'I can not give you an answer untile you ask a question!'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;</span><br><span class="line">        <span class="comment">//如果question发生改变，这个函数就会执行</span></span><br><span class="line">        question: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.answer = <span class="string">'waitting for you to stop typing...'</span>;</span><br><span class="line">            <span class="keyword">this</span>.getAnswer();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        <span class="comment">// _.debounce 是一个通过 lodash 限制操作频率的函数。</span></span><br><span class="line">        <span class="comment">// 在这个例子中，我们希望限制访问 yesno.wtf/api 的频率</span></span><br><span class="line">        <span class="comment">// ajax 请求直到用户输入完毕才会发出</span></span><br><span class="line">        <span class="comment">// 学习更多关于 _.debounce function (and its cousin</span></span><br><span class="line">        <span class="comment">// _.throttle)，参考：https://lodash.com/docs#debounce</span></span><br><span class="line">        getAnswer: _.debounce(</span><br><span class="line">            <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>.question.indexOf(<span class="string">'?'</span>) === <span class="number">-1</span>)&#123;</span><br><span class="line">                    <span class="keyword">this</span>.answer = <span class="string">'Questions usually contain a question mark .:-)'</span>;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>.answer = <span class="string">'Thinking...'</span>;</span><br><span class="line">                <span class="keyword">let</span> vm = <span class="keyword">this</span>;</span><br><span class="line">                axios.get(<span class="string">'https://yesno.wtf/api'</span>)</span><br><span class="line">                    .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">                        vm.answer = _.capitalize(response.data.answer);</span><br><span class="line">                    &#125;)</span><br><span class="line">                    .catch(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">                        vm.answer = <span class="string">'Error!could not reach the API'</span> + err;</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//这是为用户停止输入等待的毫秒数</span></span><br><span class="line">            <span class="number">500</span></span><br><span class="line">        )&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>​    在这个示例中，使用 <code>watch</code> 选项允许我们执行异步操作 (访问一个 API)，限制我们执行该操作的频率，并在我们得到最终结果前，设置中间状态。这是计算属性无法做到的。</li>
</ul>
<h2 id="番外：什么是-axios"><a href="#番外：什么是-axios" class="headerlink" title="番外：什么是 axios"></a>番外：什么是 axios</h2><p>​    axios 是一个基于 Promise 的，为浏览器和 Node.js 设计的 HTTP 客户端。它尽可能简化封装了 HTTP 相关的各种操作，在 Web App 中使用非常方便。Vue 2 官方建议在由 Vue 构建的 SPA 中使用 axios 进行 HTTP 操作。</p>
<p>​    传送门：<a href="https://github.com/mzabriskie/axios" target="_blank" rel="noopener">mzabriskie/axios</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/07/js-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/07/js-1/" itemprop="url">ES6 let，const关键字</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-07T00:25:13+08:00">
                2017-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h3><p><code>Error：let definitions are not supported by current javascript version</code></p>
<p>在webstrom内，写简单的js文件，想用let定义变量，但是出现了这个问题，按字面理解，es版本对不上。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-5fcd95422bbeed4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-10-03 23-58-54屏幕截图.png"></p>
<p>​</p>
<p>打开 file-&gt; settings -&gt; languages &amp; frameworks -&gt; javascripts 如下：</p>
<p>​</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-dfd4a28508ea3012.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-10-04 00-03-59屏幕截图.png"></p>
<p>​</p>
<ul>
<li>将javascript language version 修改为ECMAScript6，然后点击apply即可，此时会发现错误消失了。</li>
</ul>
<h2 id="关于let关键字"><a href="#关于let关键字" class="headerlink" title="关于let关键字"></a>关于let关键字</h2><ul>
<li>暑期写了2个月的angular2，最近重新学js，在看ES6的特性，发现ES6出了let关键字，也就是说es6之后，js也能定义块级作用域的变量了。（在es6之前，定义变量用var，变量在函数作用域内生效，但是没有块级作用域，var所定义的变量还是会出现混淆的情况）。感觉要养成let定义变量的习惯。在下面举一个简单的例子：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>（）</span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> ; i &lt;<span class="number">5</span> ; i ++)&#123;&#125;</span><br><span class="line">  	<span class="built_in">console</span>.log(i);              <span class="comment">//i = 5</span></span><br><span class="line">  	<span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span> ; j &lt; <span class="number">5</span> ; j ++)&#123;&#125;</span><br><span class="line">  	<span class="built_in">console</span>.log(j);              <span class="comment">//RefreenceError , j is not defined</span></span><br><span class="line">&#125;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>
<ul>
<li>由上面的简单例子可知，var定义的变量在函数作用域内生效，而let定义的变量在指定的块（block）内生效。因此可以看出，多用let可以避免很多es6之前的所谓找不到出错的变量在哪个位置的bug。</li>
</ul>
<hr>
<h2 id="续更（2017-10-04）"><a href="#续更（2017-10-04）" class="headerlink" title="续更（2017/10/04）"></a>续更（2017/10/04）</h2><ul>
<li>昨天晚上写完这篇文章，稍微搜索了下下面的问题，结果找到的资料有点少，于是上某乎问了下这个问题：</li>
<li><a href="http://www.zhihu.com/question/66182732" target="_blank" rel="noopener">es6出了let关键字，是否意味着以后写js定义变量多用let，这样就避免那些定位不到的bug？</a></li>
</ul>
<h3 id="早上醒来得到了几个评论，大概做下总结："><a href="#早上醒来得到了几个评论，大概做下总结：" class="headerlink" title="早上醒来得到了几个评论，大概做下总结："></a>早上醒来得到了几个评论，大概做下总结：</h3><ul>
<li>这个问题其实只说对了一半。</li>
<li>let关键字其实是为javascript增加了块级作用域，本质上还是个变量，依旧能赋值改变，只要能赋值改变，改变了值就容易引入bug。</li>
<li>es6为这个问题引入了<strong>const关键字</strong>。</li>
</ul>
<h2 id="关于const关键字"><a href="#关于const关键字" class="headerlink" title="关于const关键字"></a>关于const关键字</h2><ul>
<li><code>const</code>声明的变量不得改变值，这意味着，const一旦声明变量，就必须立即初始化，不能留到以后赋值。const声明一个只读的常量。一旦声明，常量的值就不能改变。而const与let一样，都只是在块级作用域内有效。</li>
<li><strong>综上所述：能用const就不用let，如果需要一个变化的值，可以直接再定义一个const常量，这样能从本质上避免很多关于变量定位的坑。当然，如果用let定义能让你节省下很多时间，可以考虑用let。</strong></li>
<li>参考资料：阮一峰-<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ECMAScript 6 入门</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/06/vue-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/06/vue-2/" itemprop="url">Vue实例与模板语法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-06T18:40:43+08:00">
                2017-10-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web框架/" itemprop="url" rel="index">
                    <span itemprop="name">web框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Vue实例"><a href="#Vue实例" class="headerlink" title="Vue实例"></a>Vue实例</h2><h3 id="新建一个Vue实例"><a href="#新建一个Vue实例" class="headerlink" title="新建一个Vue实例"></a>新建一个Vue实例</h3><ul>
<li><p>每个Vue应用都是通过<code>Vue</code>函数创建一个新的Vue实例开始的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">//数据实例一</span></span><br><span class="line">    data: data</span><br><span class="line">  <span class="comment">//数据实例二</span></span><br><span class="line">  	data:&#123;</span><br><span class="line">    	newTodoText: <span class="string">''</span>,</span><br><span class="line"> 	 	visitCount: <span class="number">0</span>,</span><br><span class="line">  		hideCompletedTodos: <span class="literal">false</span>,</span><br><span class="line">  		todos: [],</span><br><span class="line">  		error: <span class="literal">null</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
</ul>
<h3 id="数据与方法"><a href="#数据与方法" class="headerlink" title="数据与方法"></a>数据与方法</h3><ul>
<li>当一个Vue实例被创建时，它向Vue的响应式系统中加入了新建对象的<code>data</code>对象中能找到的所有的属性。当这些属性的值发生改变时，视图将会产生响应，即匹配更新为新的值。（上一篇介绍中写了个小型的响应demo）</li>
<li>若数据单一的时候可直接使用数据实例一。但若数据多或者某些数据需要某个操作触发才有效，可先定义并且赋初值，如数据实例二。</li>
<li>Vue实例还暴露了一些有用的实例属性与方法，他们都有前缀<code>$</code>，以便于与用户定义的属性区分开来。例如：<ul>
<li><code>vm.$data === data</code>//=&gt;true</li>
<li><code>vm.$sl === document.getElementById(&#39;example&#39;)</code>//=&gt;true</li>
<li><code>vm.$watch(&#39;a&#39; , function(newValue , oldValue){})</code>//监听变量的变化，以便于dom的响应。</li>
</ul>
</li>
</ul>
<h2 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h2><ul>
<li>Vue.js使用了基于HTML的模板语法，允许开发者声明式地将DOM绑定至底层Vue实例的数据。所有的Vue.js的模板都是合法的HTML，所以都能被遵循规范的浏览器和HTML解析器解析。在底层的实现上，Vue将模板编译成虚拟DOM渲染函数。结合响应系统，在应用状态改变时，Vue能够智能的计算出重新渲染组件的最小代价并应用到DOM操作上。</li>
</ul>
<h3 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h3><h4 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h4><ul>
<li>数据绑定最常见的形式是使用“Mustache”语法（双大括号）的文本插值：<ul>
<li><code>&lt;span&gt; Message: &lt;/span&gt;</code>类似angular的双向绑定，只要一边发生改变，另一边也会做出相应的变化。</li>
</ul>
</li>
</ul>
<h4 id="原始HTML"><a href="#原始HTML" class="headerlink" title="原始HTML"></a>原始HTML</h4><ul>
<li>双大括号会将数据解释为普通文本，而非HTML代码。为了输出真正的HTML，需要使用<code>v-html</code>指令：<ul>
<li><code>&lt;div v-html=&quot;realHTML&quot;&gt;&lt;/div&gt;</code>这个div的内容将会被替换成为属性值realHTML，直接作为html会忽略解析属性值中的数据绑定。注意，不能使用<code>v-html</code>来符合局部模板，因为vue不是基于字符串的模板引擎。反之，对于用户UI，<strong>组件更适合作为可重用和可组合的基本单位 </strong>。</li>
</ul>
</li>
</ul>
<h4 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h4><ul>
<li>Mustache语法不能作用在HTML特性上，遇到这种情况应该使用<code>v-bind</code>指令：<ul>
<li><code>&lt;div v-bind:id=&quot;dynamicId&quot;&gt;&lt;/div&gt;</code>若绑定的是bool类型的值，则结果为控制特性的使用/消失。</li>
</ul>
</li>
</ul>
<h4 id="使用javascripts表达式"><a href="#使用javascripts表达式" class="headerlink" title="使用javascripts表达式"></a>使用javascripts表达式</h4><ul>
<li>对于所有的数据绑定，Vue.js都提供了完全的JavaScript表达式支持，正确的表达式会在所属的Vue实例的数据作用域下作为js被解析。但是有个限制，就是每个绑定都只能包含单个表达式。</li>
</ul>
<h4 id="指令（Directives）"><a href="#指令（Directives）" class="headerlink" title="指令（Directives）"></a>指令（Directives）</h4><ul>
<li>指令是带有<code>v-</code>前缀的特殊属性。指令属性的值预期是单个js表达式（<code>v-for</code>除外）。指令的职责是当表达式的值改变时，将其产生的连带影响，响应式地作用与DOM。回顾上一篇的例子：<code>&lt;p v-if=&quot;seen&quot;&gt;here&lt;/p&gt;</code>。这里，根据seen的值为true/false来插入/移除<code>&lt;p&gt;</code>元素</li>
</ul>
<h4 id="指令的缩写"><a href="#指令的缩写" class="headerlink" title="指令的缩写"></a>指令的缩写</h4><ul>
<li><p><code>v-bind</code>缩写</p>
</li>
<li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--完整语法--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 缩写 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>v-on</code>缩写</p>
<p>​</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--完整语法--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">"dosomething"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 缩写 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">"dosomething"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>再来一遍，文档！文档！文档！左转<a href="https://cn.vuejs.org/" target="_blank" rel="noopener">vue.js</a></p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://easywork.xin/2017/10/05/vue_1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Husbin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Husbin">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/05/vue_1/" itemprop="url">初识vue.js</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-05T22:55:47+08:00">
                2017-10-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web框架/" itemprop="url" rel="index">
                    <span itemprop="name">web框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="什么是vue-js"><a href="#什么是vue-js" class="headerlink" title="什么是vue.js"></a>什么是vue.js</h3><ul>
<li>vue.js是一套构建用户界面的渐进式框架。个人观点，目前大型项目前后端分离已成为趋势，vue采用自底向上增量开发设计，核心库只关注视图层，易于上手，还便于与第三方库或既有项目整合。</li>
</ul>
<h3 id="学习之前"><a href="#学习之前" class="headerlink" title="学习之前"></a>学习之前</h3><ul>
<li>学习框架之前，需掌握html，css，javascript，计算机网络等知识。</li>
</ul>
<h3 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h3><ul>
<li>新手不推荐直接使用<code>vue-cli</code>。推荐直接新建一个html文件，然后用<code>&lt;script&gt;</code>标签引入Vue。</li>
</ul>
<p><code>&lt;script src=&quot;https://unpkg.com/vue&quot;&gt;&lt;/script&gt;</code></p>
<h3 id="声明式渲染"><a href="#声明式渲染" class="headerlink" title="声明式渲染"></a>声明式渲染</h3><p>vue.js的核心是一个允许采用简洁的模板语法来声明事得将数据渲染进dom的系统：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:v-bind</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:v-on</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My first Vue app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/vue"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe1 声明式渲染<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    &#123;&#123; message &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line"><span class="undefined">        data: &#123;</span></span><br><span class="line"><span class="actionscript">            message: <span class="string">'Hello Vue!'</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-dee64c1b8ca79375.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-10-05 23-18-54屏幕截图.png"></p>
<p>浏览器打开输出<code>Hello Vue！</code>，这便是我们生成的第一个Vue应用！现在数据与DOM已经绑定在一起了，所有元素都是响应式的，按<code>F12</code>打开浏览器的控制台，修改<code>app._data.message</code>，会发现页面会做相应的改变。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/7166236-dee64c1b8ca79375.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2017-10-05 23-18-54屏幕截图.png"></p>
<h3 id="vue-js指令"><a href="#vue-js指令" class="headerlink" title="vue.js指令"></a>vue.js指令</h3><ul>
<li>指令带有前缀 <code>v-</code>，以表示他们是Vue提供的特殊属性，他们会在渲染的DOM上应用特殊的响应式行为。</li>
<li><code>v-bind</code>:属性绑定指令。</li>
<li><code>v-if=&quot;bool&quot;</code>:条件指令。</li>
<li><code>v-for=&quot;elem in Array&quot;</code>:循环指令。</li>
<li><code>v-on</code>:该指令可用来绑定一个时间监听器。</li>
<li><code>v-model</code>:表单与应用之间双向绑定指令。</li>
</ul>
<h3 id="组件化应用构建"><a href="#组件化应用构建" class="headerlink" title="组件化应用构建"></a>组件化应用构建</h3><ul>
<li>类似angular的Component，vue也存在类似的组件系统，他允许我们使用小型、独立的可服用的组件构建大型应用。</li>
<li>在Vue中注册组件，注册之后，可直接使用<code>&lt;todo-item&gt;&lt;/todo-item&gt;</code>标签使用该组件。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'todo-item'</span>&#123;</span><br><span class="line">                template:<span class="string">'&lt;div&gt;html 模板&lt;/div&gt;'</span></span><br><span class="line">              &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:v-bind</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xmlns:v-on</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My first Vue app<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/vue"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe1 声明式渲染<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    &#123;&#123; message &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe2 绑定DOM元素属性<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-bind:title</span>=<span class="string">"message"</span>&gt;</span></span><br><span class="line">        鼠标悬停几秒钟查看此处动态绑定的提示信息！</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe3 条件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"seen"</span>&gt;</span>now you can look me<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe4 循环<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-4"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"todo in todos"</span>&gt;</span></span><br><span class="line">            &#123;&#123;todo.text&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe5 事件监听<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-5"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message5&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"reverseMessage"</span>&gt;</span>逆转信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe6 表单与应用状态双向绑定<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-6"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message6&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"message6"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>samlpe7 组件化应用构建<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app-7"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        现在我们为每个todo-item提供todo对象</span></span><br><span class="line"><span class="comment">        todo对象是变量，即内容可以是动态的。</span></span><br><span class="line"><span class="comment">        我们也需要为每个组件提供一个key。</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">todo-item</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-for</span>=<span class="string">"item in groceryList"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-bind:todo</span>=<span class="string">"item"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-bind:key</span>=<span class="string">"item.id"</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line"><span class="undefined">        data: &#123;</span></span><br><span class="line"><span class="actionscript">            message: <span class="string">'Hello Vue!'</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app2 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el:<span class="string">'#app-2'</span>,</span></span><br><span class="line"><span class="undefined">        data:&#123;</span></span><br><span class="line"><span class="javascript">            message:<span class="string">'页面加载于 '</span> + <span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleDateString()</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app3 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">       el:<span class="string">'#app-3'</span>,</span></span><br><span class="line"><span class="undefined">       data:&#123;</span></span><br><span class="line"><span class="actionscript">           seen:<span class="literal">true</span></span></span><br><span class="line"><span class="undefined">       &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app4 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el:<span class="string">'#app-4'</span>,</span></span><br><span class="line"><span class="undefined">        data:&#123;</span></span><br><span class="line"><span class="undefined">            todos:[</span></span><br><span class="line"><span class="actionscript">                &#123;text:<span class="string">'学习javascripts'</span>&#125;,</span></span><br><span class="line"><span class="actionscript">                &#123;text:<span class="string">'学习vue'</span>&#125;,</span></span><br><span class="line"><span class="actionscript">                &#123;text:<span class="string">'做个项目'</span>&#125;</span></span><br><span class="line"><span class="undefined">            ]</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app5 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el:<span class="string">'#app-5'</span>,</span></span><br><span class="line"><span class="undefined">        data:&#123;</span></span><br><span class="line"><span class="actionscript">            message5:<span class="string">'hello vue.js'</span></span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="undefined">        methods:&#123;</span></span><br><span class="line"><span class="actionscript">            reverseMessage: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.message5 = <span class="keyword">this</span>.message5.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app6 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el:<span class="string">'#app-6'</span>,</span></span><br><span class="line"><span class="undefined">        data:&#123;</span></span><br><span class="line"><span class="actionscript">            message6:<span class="string">'Hello world'</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'todo-item'</span> , &#123;</span></span><br><span class="line"><span class="actionscript">        props:[<span class="string">'todo'</span>],</span></span><br><span class="line"><span class="handlebars"><span class="xml">        template:'<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><span class="template-variable">&#123;&#123;todo.text&#125;&#125;</span><span class="xml">'</span></span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> app7 = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el:<span class="string">'#app-7'</span>,</span></span><br><span class="line"><span class="undefined">        data:&#123;</span></span><br><span class="line"><span class="undefined">            groceryList:[</span></span><br><span class="line"><span class="actionscript">                &#123;id:<span class="number">0</span> , text:<span class="string">'蔬菜'</span>&#125;,</span></span><br><span class="line"><span class="actionscript">                &#123;id:<span class="number">1</span> , text:<span class="string">'奶酪'</span>&#125;,</span></span><br><span class="line"><span class="actionscript">                &#123;id:<span class="number">2</span> , text:<span class="string">'水果'</span>&#125;,</span></span><br><span class="line"><span class="undefined">            ]</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li>文档！文档！文档！左转<a href="https://cn.vuejs.org/" target="_blank" rel="noopener">vue.js</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/img/favicon.jpg"
                alt="Husbin" />
            
              <p class="site-author-name" itemprop="name">Husbin</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">50</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Husbin</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
